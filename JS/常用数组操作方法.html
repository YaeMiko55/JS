<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>常用数组操作方法</title>
</head>

<body>
  <script>
    let arr = [1, 2, 3, 4, 5, 6, 7, 8, 9, 8]
    console.log('原数组：', arr)
    // 基本操作
    // 增
    arr.push('a')  // 末位增加，返回新数组长度
    arr.unshift('b')  // 首位增加，返回新数组长度
    console.log(arr)
    // 删
    arr.pop()  // 末位删除，返回删除的元素
    arr.shift()  // 首位删除，返回删除的元素
    console.log(arr)
    // 改
    arr[3] = 40
    console.log(arr)
    arr[3] = 4
    // 查
    console.log(arr.indexOf(8))  // 查找元素的值，返回第一个符合元素的下标，不存在返回 -1
    console.log(arr.lastIndexOf(8))  // 查找元素的值，返回最后一个符合元素的下标，不存在返回 -1
    console.log('------------------------')

    // 分割、合并

    // 数组截取 给定截取范围 -> 从0开始 左闭右开，不改变原数组，返回新数组
    let = arr2 = [1, 2, 3, 4, 5, 6, 7, 8, 9]
    let = new_arr = arr2.slice(3, 5)
    console.log(new_arr)

    // splice 数组拼接 也可适用于添加、删除元素
    /*
      start：指定修改的起始位置（从0开始计数）。
      deleteCount：要移除的数组元素的个数。如果设置为0，则不会删除元素。
      item1, item2, ...：要添加到数组中的新元素。如果省略该参数，则只移除元素。

      返回删除元素，会改变原数组
    */
    new_arr = arr2.splice(1, 3, [0, 0, 0])
    console.log('splice', new_arr)
    console.log('splice', arr2)

    // concat 合并数组，返回新数组
    arr2 = [1, 2, 3]
    newArr = arr2.concat(arr)
    console.log('concat', newArr)
    console.log('------------------------')

    // 遍历数组

    // forEach 没有返回值（undefined） 不会改变原数组
    arr.forEach(item => {
      console.log('froEach:', item *= 2)
    })

    // map 不改变原数组，返回一个新数组
    new_arr = arr.map(item => {
      return item += item
    })
    console.log('map', new_arr)

    // 过滤数组 过滤出符合条件的元素 不改变原数组，返回一个新数组
    new_arr = arr.filter(item => item < 7)
    console.log('filter', new_arr)

    // flat(降几个维度) 数组降维 
    arr = [1, [2, [3, [4, [5]]]]]
    console.log('flat(2)', arr.flat(2))  // 张开2个维度 原来5维 降到3维
    console.log('flat(Infinity)', arr.flat(Infinity))  // Infinity 将数组降到一维

    // reduce 累加求和
    arr = [2, 4, 5, 6, 7, 82, 4, 6, 7, 6]
    sum = arr.reduce((sum, item) => sum + item, 0)
    console.log(sum)

    // every 判断数组中是否都满足条件 只要有一个元素不满足条件则返回false
    arr = [1, 2, 3, 4, 5, 6, 78]
    console.log('every',arr.every(item => item < 70))

    // includes 判断数组中是否存在一个定值 存在返回 true 反之返回 false
    console.log('includes',arr.includes(78))
    
  </script>
</body>

</html>