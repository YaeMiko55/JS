<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>生命周期函数</title>
</head>
<body>
  <div id="app">
    <h3>{{title}}</h3>
    <button @click="number--">-</button>
    <span>{{ number }}</span>
    <button @click="number++">+</button>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/vue@2.7.16/dist/vue.js"></script>
  <script>
    const app = new Vue({
      el:'#app',
      data:{
        number: 100,
        title: '计数器',
      },
      // 1. 创建阶段 （数据准备）
      beforeCreate () {
        console.log('beforeCreate:', this.number)
      },
      created () {
        console.log('created:', this.number)
        // 可以发送初始化渲染的请求了
        // this.数据名 = 请求回来的数据
      },
      // 2. 挂载阶段 （渲染模板）
      beforeMount () {
        console.log('beforeMount:渲染模板之前', document.querySelector('h3').innerHTML)
      },
      mounted () {
        console.log('mounted:渲染模板之后', document.querySelector('h3').innerHTML)
        // 可以操作dom了
      },
      // 3. 更新阶段 （修改数据更新视图）
      beforeUpdate () {
        console.log('beforeUpdate: 数据被修改了，视图还没更新', document.querySelector('span').innerHTML)
      },
      updated () {
        console.log('updated: 数据被修改了，视图已经更新', document.querySelector('span').innerHTML)
      },
      // 4. 卸载阶段
      beforeDestroy () {
        console.log('beforeDestroy 卸载前')
        // 清除掉一些vue以外的资源占用（定时器、延时器...）
      },
      destroyed () {
        console.log('destroyed 卸载后')
      }
      // 控制台卸载app语句：app.$destory()
    })
  </script>
</body>
</html>